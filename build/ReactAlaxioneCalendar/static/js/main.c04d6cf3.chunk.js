(this.webpackJsonpPlanningTimeline=this.webpackJsonpPlanningTimeline||[]).push([[0],{203:function(e,t,n){},204:function(e,t,n){},238:function(e,t,n){},286:function(e,t,n){},313:function(e,t){},337:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(27),A=n.n(a),o=(n(203),n(204),n(112)),c=n(25),i=n(9),l=n(12),u=n(22),d=n(28),f=n(29),p=n(48),m=n(34),h=n(35),g=n(114),b=n(38),v=n(115),j=n(26),x=n.n(j),O=(n(152),n(354)),y=n(357),C=n(355),E=n(353),S=n(356),B=n(39),Q=n.n(B),w=n(63),R=n.n(w),I=n(93),T=n.n(I),D=n(94),M=n.n(D),L=n(95),k=n.n(L),N=n(96),P=n.n(N),U=(n(153),n(350)),H=n(347),F=n(358),V=n(348),X=n(349),z=n(87),W=(n(154),n(21)),J=n(351),K=n(352),Y=n(65),G=n(4),Z=function(e){var t=e.label,n=e.options,s=e.labelKey,a=e.onChange,A=e.onFocus,o=e.refs,c=e.id,i=e.isPracticien,l=e.switchToggle,u=e.switchDefaultChecked,d=Object(r.useState)([]),f=Object(W.a)(d,2),p=f[0],m=f[1],h=Object(r.useState)(!1),g=Object(W.a)(h,2),b=g[0],v=g[1],j=function(e){v(e.target.checked),e.target.checked?(m(n),a(n)):(m([]),a([]))};return Object(G.jsxs)(G.Fragment,{children:[t&&Object(G.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[" ",Object(G.jsxs)("label",{className:"label-form-search",children:[t," "]}),Object(G.jsx)(J.a,{className:"label-form-search",checked:b,onChange:j,children:" Tous"})," "]}),i&&Object(G.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("label",{className:"label-form-search",children:"Rechercher selon"}),Object(G.jsx)(K.a,{className:"switch-form-search",size:"large",checkedChildren:"Praticien",unCheckedChildren:"Salle",defaultChecked:u,onChange:l})]}),Object(G.jsx)(J.a,{className:"label-form-search",checked:b,onChange:j,children:" Tous"})]}),Object(G.jsx)(Y.a,{clearButton:!0,selected:p,multiple:!0,ref:o,id:c,options:n,className:"typeheadPraticiensBox",labelKey:s,onChange:function(e){a(e),e.length===n.length?v(!0):v(!1),m(e)},onFocus:A,placeholder:"Rechercher...",emptyLabel:"Rechercher ...",size:"small",renderToken:function(e,t,r){return r>=2&&b?null:p.length===n.length&&r>=1?Object(G.jsxs)("span",{className:"rbt-token rbt-token-removeable",children:["+",p.length-1," autres"]}):Object(G.jsxs)("div",{className:"rbt-token rbt-token-removeable",children:[(null===e||void 0===e?void 0:e.title)||(null===e||void 0===e?void 0:e.libelle_motif_rdv)||(null===e||void 0===e?void 0:e.libelle_lieu),Object(G.jsxs)("button",{className:"close rbt-close rbt-token-remove-button",onClick:function(){return t.onRemove(e)},children:[Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"}),Object(G.jsx)("span",{className:"sr-only visually-hidden",children:"Remove"})]})]},r)},shouldSelect:!0,paginate:!0})]})},q=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(z.a,{sm:3,className:"zone",children:Object(G.jsx)(Z,{options:this.props.type?this.props.datasResourceFixed:this.props.roomsResourceFixed,labelKey:function(e){return"".concat(e.title)},onChange:function(t){return e.props.choosePraticienSalle(t)},onFocus:this.onFocusTypeHeaderPraticienBox,refs:this.typeHeaderPraticienBoxRef,id:"typeheadPraticienBox",selectAll:this.props.selectAllPraticienSalle,isPracticien:!0,switchToggle:function(t){return e.props.handleSwitchChange(t)},switchDefaultChecked:this.props.type})}),Object(G.jsx)(z.a,{sm:3,className:"zone",children:Object(G.jsx)(Z,{label:"Motif :",options:this.props.ressourcesMotif?this.props.ressourcesMotif:[],labelKey:function(e){return"".concat(e.libelle_motif_rdv)},onChange:function(t){return e.props.chooseMotif(t)},onFocus:this.props.onFocusTypeHeaderMotif,refs:this.props.typeHeaderMotifRef,id:"typeheadMotif"})}),Object(G.jsx)(z.a,{sm:3,className:"zone",children:Object(G.jsx)(Z,{label:"Lieux :",options:this.props.datasLieu,labelKey:function(e){return"".concat(e.libelle_lieu)},selected:this.props.selectedLieu?this.props.selectedLieu:[],onChange:function(t){return e.props.chooseLieu(t)},onFocus:this.props.onFocusTypeHeaderLieu,refs:this.props.typeHeaderLieuRef,id:"typeheadLieu"})}),Object(G.jsx)(z.a,{sm:3,className:"zone",children:Object(G.jsx)(Z,{label:"UF :",options:this.props.datasUf,labelKey:function(e){return"".concat(e.libelle_lieu)},onChange:function(t){return e.props.chooseUf(t)},onFocus:this.props.onFocusTypeHeaderUf,refs:this.props.typeHeaderUfRef,id:"typeheadUf"})})]})}}]),n}(r.Component),_=q,$=n(75),ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAQAAABQ8GUWAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQflBQ8TNh53rQ6IAAAC1UlEQVR42u2aPy9sQRjGZynY3SBKQSfC7kfQ+hIaso3oVGiV6PT+RUElCqWObqNQUFGSrI5NJFaYn2Kv3Cs5s2d2d2beObl+H2DzPs+Z53nPOXuU+uU/Bz0wAJubcHwMlQq6r096prAGcHrKDx4fYXUVPTQkPVsgA15fSeTlBb21BaOj0jN6NuDigpY0GujdXZielp7VjwF6chLqdVLRGs7O0LOz0jO7N4G5uXQD/uXqCj0/D7290rM7NGF/vz0TAH1/D8vLkM9Lz+/AgHwerq/bNgGAWg3W12F4WFpHdyZY94GJeh22t9Hj49JaOjeh7T5IotGAw0Mol6X1dGhCB32QXBLZ3Bzd9YGJjG2O7vvAdCgytDnc9IGJp6dMbA53fWAi8s3hpw+SiHhzeOuDRCLdHH77wERkm8N/H5gORSSbI1wfmIhgc4TtAxPCm0OmD5IQ3BxifZCIwOaQ7wMTATdHHH1gINTmiKcPTATYHHH1gQmPmwMKBbi5kZZoR6MBe3tQKimlVM6dCaWSolpVuWLR21FzyuenYmnJ6U/CwoL09W2PWq3Hras5ZycqDOAwAuWyUtWqUoWCtCw7Pj6UWlx0JL5YhNtb6QNtx9sb7OzA1JQzL+HgQFpWOt9rcGzM6UGCSkVaWms8/m0H5bL5Awtp7u6at8L9/c6FN8XHmvtAD0Nx5f7P4zAzM15F/xUfS+6/X4g0b2sDiY8h954aPV28dO6FP8SQy73nRrcTL5H7SP4YCZv7wI2eLj5U7gUa3c4A37kXanQ78T5zH/mndf5yH0Gjp4v3kftIGt3OAFe5j6zR7cS7yH2kjZ4uvtvcR9zo6eK7yX3kjW5nQCe5z0Cj24lvN/cZavR08ba5z2Cj2xlwedlauIf36DFhvvrPz7CxASMj0jP6NUCfnPwU/vCAXllBDw5KzxaCHBQKSq2tKTUxodT5ueLoKNfz/i492C+/hOELH9Pl9eqJ+D0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDUtMTVUMTk6NTQ6MzArMDA6MDA0aHmYAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA1LTE1VDE5OjU0OjMwKzAwOjAwRTXBJAAAAABJRU5ErkJggg==",te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAQAAABQ8GUWAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQflBQ8UFDAJhlPiAAAA/0lEQVR42u3WsYkCURSF4fNmNFjHFrQBrcAWtAmxLR1EW1BETLWBQczFEiZU5mywG+xuLF5Y/y97vOR/cOFdCQAAAAAAAAAAAO8h/Ty4GQ6VJhOp15Narei453o8pNtN3mxSdj7/urKLwl6v7abxv9c09mplF8X34/PczeEQnfV6+72d58mezaT5PHpAY0ynyT6dpNEoOiXG8Zjsupa63eiUGHWdSXZ0RpymyaSqis6IU1WZVJbRGXEWi69v0Pt99Kf0erudnWWSJLvTsZfL91mEytL++JD+rsIeDKTxWOr3pXY7ekCf636Xr1el7TalyyW6BgAAAAAAAAAAAK/2CZOJB4GGxQTIAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA1LTE1VDIwOjIwOjQ4KzAwOjAw1makLAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNS0xNVQyMDoyMDo0OCswMDowMKc7HJAAAAAASUVORK5CYII=";n(238);function ne(){return Object(G.jsx)("div",{className:"spinner-container-show",children:Object(G.jsxs)("div",{className:"spinner-container",children:[Object(G.jsx)("p",{children:"En chargement..."}),Object(G.jsx)("div",{className:"loading-spinner"})]})})}var re=n(193),se=n(77),ae=n.n(se),Ae="SET_RESSOURCES_TIMELINE",oe="GET_RESSOURCES_SALLE",ce=function(e){return{type:Ae,ressourcesTimeline:e}},ie=function(e){return{type:oe,ressourcesSalle:e}},le=function(){return re.a.extend({prefixUrl:window.location.origin,retry:1,credentials:"same-origin",headers:{"x-alx-idc":ae.a.getItem("x-alx-idc"),Authorization:"".concat(ae.a.getItem("x-alx-login")," ").concat(ae.a.getItem("x-alx-token"))}})},ue=function(){return le().get("api/api_praticien/ressource_praticien/").then((function(e){return e.json()})).then((function(e){return"ok"===e.result?{practitioners:e.tabinfo,success:!0}:{success:!1,error:e.message?e.message:"Erreur !"}})).catch((function(e){return{success:!1,error:e}}))},de=function(){return le().get("api/api_praticien/ressource_praticien?type=box").then((function(e){return e.json()})).then((function(e){return"ok"===e.result?{rooms:e.tabinfo,success:!0}:{success:!1,error:e.message?e.message:"Erreur !"}})).catch((function(e){return{success:!1,error:e}}))},fe=function(){return function(e,t){le().get("api/api_praticien/ressource_praticien/").then((function(e){return e.json()})).then((function(t){if("ok"===t.result){var n={ressources:t.tabinfo};e(ce(n))}}))}},pe=function(e,t){return le().get("api/api_praticien/ressource_timeline?start=".concat(e,"&end=").concat(t)).then((function(e){return e.json()})).then((function(e){return{feed:e.tabinfo,success:!0}})).catch((function(e){return{feed:[],success:!1,error:e}}))},me=function(){var e=ae.a.getItem("x-alx-idc");return le().get("api/api_lieu/lieu?guid_entite=".concat(e)).then((function(e){return e.json()})).then((function(e){return{locations:e.tabinfo,success:!0}})).catch((function(e){return{locations:[],success:!1,error:e}}))},he=function(e,t,n){return function(r,s){le().get("api/api_praticien/ressource_timeline?start=".concat(t,"&end=").concat(n,"&identifiant_user=").concat(e||"")).then((function(e){return e.json()})).then((function(e){var t={eventsOfRessources:e.tabinfo};r(ce(t))})).catch((function(e){console.log(e)}))}},ge=function(){return function(e,t){le().get("api/api_lieu/lieu?guid_entite=".concat(ae.a.getItem("x-alx-idc"))).then((function(e){return e.json()})).then((function(t){var n={ressourcesLieu:t.tabinfo};e(ce(n))}))}},be=function(){return function(e,t){le().get("api/api_lieu/uf").then((function(e){return e.json()})).then((function(t){var n={ressourcesUf:t.tabinfo};e(ce(n))}))}},ve=function(){return function(e,t){le().get("api/api_motif_rdv/motif_rdv").then((function(e){return e.json()})).then((function(t){var n={ressourcesMotif:t.tabinfo};e(ce(n))}))}},je="data:image/png;base64,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eu7gg0vpw208AJY2Nm76y8yZRc8AgOYoD7/zzjSoXC56R0UvHXxwKf9VG38DoON+9Svv7Q9AezFu/J/+lG789a+L3lHRo716lUo999mn6B0VXbNgQdETAKAlsmcWLix6Q0W39uhRSrt17170jkqy15csKXoDALREfnQbvwLw6R49SvmsLl2K3lFJefby5UVvAICWKL+/jZ+7nuzSpZSN6tSp6B2VlO554YWiNwBAy7Txc9e8zp1L+b+17QDY64Pr1xe9AQBaouHHb7xR9IaK6jp3LqX+HToUvaMSv/8PQHtzydyGhqI3VNS/Q4dS0RsAgJ1PAABAQAIAAAISAAAQkAAAgIAEAAAEJAAAICABAAABCQAACEgAAEBAAgAAAhIAABCQAACAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACqip6wK6mpibLit4AsC38/xWLKwAAEJAAAICABAAABCQAACAgAQAAAQkAAAhIAABAQAIAAAISAAAQkAAAgIAEAAAEJAAAICABAAABCQAACEgAAEBAAgAAAhIAABCQAACAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACEgAAEJAAAICABAAABJTV1uZ50SMAgJ3LFQAACEgAAEBAAgAAAhIAABCQAACAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACEgAAEJAAAICABAAABCQAACAgAQAAAQkAAAhIAABAQAIAAAISAAAQkAAAgIAEAAAEJAAAICABAAABCQAACEgAAEBAAgAAAhIAABCQAACAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACEgAAEJAAAICABAAABCQAACCgqqIHNKWmJsuK3gAALVVbm+dFb6jEFQAACEgAAEBAAgAAAhIAABCQAACAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACEgAAEJAAAICABAAABCQAACAgAQAAAQkAAAhIAABAQAIAAAISAAAQkAAAgIAEAAAEJAAAICABAAABCQAACEgAAEBAAgAAAhIAABCQAACAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACEgAAEJAAAICABAAABCQAACAgAQAAAQkAAAioqugB7U1tbZ4XvaGSmposK3pDJY7f9nH8to/jt30cv12LKwAAEJAAAICABAAABCQAACAgAQAAAQkAAAhIAABAQAIAAAISAAAQkAAAgIAEAAAEJAAAICABAAABCQAACEgAAEBAAgAAAhIAABCQAACAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACEgAAEJAAAICABAAABCQAACAgAQAAAQkAAAhIAABAQAIAAAISAAAQkAAAgIAEAAAEJAAAICABAAABCQAACEgAAEBAWW1tnhc9opKamiwregMAtFRbP7+6AgAAAQkAAAhIAABAQAIAAAISAAAQkAAAgIAEAAAEJAAAICABAAABCQAACEgAAEBAAgAAAhIAABCQAACAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACEgAAEJAAAICABAAABCQAACAgAQAAAQkAAAhIAABAQAIAAAISAAAQkAAAgIAEAAAEJAAAICABAAABCQAACEgAAEBAAgAAAhIAABCQAACAgAQAAARUVfSA9qa2Ns+L3lBJTU2WFb2hEsdv+zh+28fx2z6O367FFQAACEgAAEBAAgAAAhIAABCQAACAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACEgAAEJAAAICABAAABCQAACAgAQAAAQkAAAhIAABAQAIAAAISAAAQkAAAgIAEAAAEJAAAICABAAABCQAACEgAAEBAAgAAAhIAABCQAACAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACEgAAEJAAAICABAAABCQAACCgrLY2z4seUUlNTZYVvQEAWqqtn19dAQCAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACEgAAEJAAAICABAAABCQAACAgAQAAAQkAAAhIAABAQAIAAAISAAAQkAAAgIAEAAAEJAAAICABAAABCQAACEgAAEBAAgAAAhIAABCQAACAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACEgAAEJAAAICABAAABCQAACAgAQAAAQkAAAhIAABAQAIAAAKqKnpAe1Nbm+dFb6ikpibLit5QieO3fRy/7eP4wd+5AgAAAQkAAAhIAABAQAIAAAISAAAQkAAAgIAEAAAEJAAAICABAAABCQAACEgAAEBAAgAAAhIAABCQAACAgAQAAAQkAAAgIAEAAAEJAAAISAAAQEACAAACEgAAEJAAAICABAAABCQAACAgAQAAAQkAAAhIAABAQAIAAAISAAAQkAAAgIAEAAAEJAAA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";x.a.locale("fr"),"fr"===localStorage.getItem("rtc-lang")?Object(B.registerLocale)("fr",O.a):"en"===localStorage.getItem("rtc-lang")?Object(B.registerLocale)("enAU",y.a):"es"===localStorage.getItem("rtc-lang")?Object(B.registerLocale)("es",C.a):"it"===localStorage.getItem("rtc-lang")?Object(B.registerLocale)("it",E.a):"de"===localStorage.getItem("rtc-lang")&&Object(B.registerLocale)("de",S.a);var xe="#EBEBEB",Oe="#ffffff",ye="",Ce=!1,Ee=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(d.a)(this,n),console.log("V - 1.02"),(r=t.call(this,e)).calendarComponentRef=s.a.createRef(),r.typeHeaderPraticienBoxRef=s.a.createRef(),r.typeHeaderLieuRef=s.a.createRef(),r.typeHeaderUfRef=s.a.createRef(),r.typeHeaderMotifRef=s.a.createRef(),r.startTime=8,r.endTime=20,r.eventsLoaded=[],r.loadByMotif=function(){r.props.getResourceMotifFunction()},r.loadByLieu=Object(u.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:(t=e.sent).success?r.setState({datasLieu:t.locations}):console.error(t.error?t.error:"Erreur sur la r\xe9cup\xe9ration des lieux !");case 4:case"end":return e.stop()}}),e)}))),r.loadByUf=function(){var e=[];r.props.getRessourceUfFunction(),setTimeout((function(){r.props.ressourcesUf&&r.props.ressourcesUf.forEach((function(t){e.push(t)})),r.setState({datasUf:e})}),1e3)},r.componentDidMount=Object(u.a)(Object(l.a)().mark((function e(){var t,n,s,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r._isMounted=!0,t={},n=void 0,e.t0=localStorage.getItem("rtc-lang"),e.next="fr"===e.t0?6:"en"===e.t0?8:"es"===e.t0?10:"it"===e.t0?12:"de"===e.t0?14:16;break;case 6:return n=R.a,e.abrupt("break",17);case 8:return n=T.a,e.abrupt("break",17);case 10:return n=M.a,e.abrupt("break",17);case 12:return n=k.a,e.abrupt("break",17);case 14:return n=P.a,e.abrupt("break",17);case 16:n=R.a;case 17:return t.locale=n,e.next=20,ue();case 20:return(s=e.sent).success?(r.props.setRessources({ressources:s.practitioners}),t.datasResourceFixed=s.practitioners,r.filterDatas(s.practitioners)):console.error(s.error),e.next=24,de();case 24:(a=e.sent).success&&(t.roomsResourceFixed=a.rooms),r.setState(t),r.loadByMotif(),r.loadByLieu(),r.loadByUf(),r.positionCalendar();case 31:case"end":return e.stop()}}),e)}))),r.positionCalendar=function(){var e=document.getElementById("icon-calendar"),t=document.getElementsByClassName("react-datepicker-wrapper")[0];e.removeChild(t);var n=document.getElementsByClassName("fc-header-toolbar fc-toolbar fc-toolbar-ltr")[0],r=n.getElementsByClassName("fc-toolbar-chunk")[0],s=r.getElementsByClassName("fc-today-button fc-button fc-button-primary")[0];r.insertBefore(t,s);var a=document.getElementById("percentHeader");n.after(a)},r.handleChange=function(e){var t,n,s,a;r.setState({selectedDayAgenda:e}),null===(t=Object(p.a)(r))||void 0===t||null===(n=t.calendarComponentRef)||void 0===n||null===(s=n.current)||void 0===s||null===(a=s.getApi())||void 0===a||a.gotoDate(e)},r.handleSwitchChange=function(e){r.setState({type:e})},r.choosePraticienSalle=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({selectedPraticienSalle:t});case 2:r.filterDatas();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.chooseMotif=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({selectedMotif:t});case 2:r.filterDatas();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.chooseLieu=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.length>0?r.filterUFByLieu(t[0].id_lieu):r.filterUFByLieu(null),e.next=3,r.setState({selectedLieu:t});case 3:r.filterDatas();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.chooseUf=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({selectedUf:t});case 2:r.filterDatas();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.filterUFByLieu=Object(u.a)(Object(l.a)().mark((function e(){var t,n,s=arguments;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],null===(t=s.length>0&&void 0!==s[0]?s[0]:null)?r.loadByUf():(r.props.getRessourceUfFunction(),setTimeout((function(){r.props.ressourcesUf&&r.props.ressourcesUf.forEach((function(e){e.id_lieu===t&&n.push(e)})),r.setState({datasUf:n})}),1e3));case 3:case"end":return e.stop()}}),e)}))),r.filterDatas=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return[];var t=e;if(r.state.selectedPraticienSalle.length>0&&(t=r.state.selectedPraticienSalle),r.state.selectedMotif.length>0){var n=r.eventsLoaded.filter((function(e){return r.state.selectedMotif.some((function(t){return e.listemotif.some((function(e){return e.id_motif_rdv===t.id_motif_rdv}))}))})).map((function(e){return e.resourceId}));t=t.filter((function(e){return n.includes(e.id)}))}if(r.state.selectedLieu.length>0){var s=r.eventsLoaded.filter((function(e){return e.idlieu===r.state.selectedLieu[0].id_lieu})).map((function(e){return e.resourceId}));t=t.filter((function(e){return s.includes(e.id)}))}if(r.state.selectedUf.length>0){var a=r.eventsLoaded.filter((function(e){return e.uf===r.state.selectedUf[0].id_uf})).map((function(e){return e.resourceId}));t=t.filter((function(e){return a.includes(e.id)}))}return t},r.eventContent=function(e){var t,n,r=e.event.extendedProps.type+(null===(t=e.event.start)||void 0===t?void 0:t.getTime())+"-"+(null===(n=e.event.end)||void 0===n?void 0:n.getTime());if("conge"===e.event.extendedProps.type){var s=Object(G.jsxs)("div",{children:[e.event.title,Object(G.jsx)("br",{}),"Date de d\xe9but: "+e.event.start.toLocaleDateString(),Object(G.jsx)("br",{}),"Date de fin: "+e.event.end.toLocaleDateString(),Object(G.jsx)("br",{})]});return Object(G.jsx)(U.a,{placement:"bottom",overlay:Object(G.jsx)(H.a,{id:"tooltip-".concat(r),children:s}),children:Object(G.jsx)("div",{className:"conge",children:"CONG\xc9"})},r)}var a="";e.event.extendedProps.listemotif.forEach((function(e,t){t>0&&(a+=", "),a+=""!==e.abreviation_motif_rdv?e.abreviation_motif_rdv:e.libelle_motif_rdv.slice(0,5)}));var A=e.event.extendedProps.rdvmin,o=e.event.extendedProps.rdvmax,c=e.event.extendedProps.appointmentsTaken,i=A!==o;if("resourceTimelineDay"===e.view.type){var l=Object(G.jsxs)("div",{children:["Motif: "+a,Object(G.jsx)("br",{}),e.event.extendedProps.nom_uf&&Object(G.jsxs)("span",{children:[" ","UF: ",e.event.extendedProps.nom_uf," ",Object(G.jsx)("br",{})," "]}),e.event.extendedProps.nom_salle&&Object(G.jsxs)("span",{children:[" ","Salle: ",e.event.extendedProps.nom_salle," ",Object(G.jsx)("br",{})]}),e.event.extendedProps.nbrrdv]}),u=e.event.start,d=e.event.end;u>=d&&(d=new Date(u)).setMinutes(d.getMinutes()+5);var f=x()(u).format("HH[h]mm"),p=x()(d).format("HH[h]mm");return Object(G.jsx)(U.a,{placement:"bottom",overlay:Object(G.jsx)(H.a,{id:"tooltip-".concat(r),children:l}),children:Object(G.jsxs)("div",{className:"content-event-align-vert",children:[f,Object(G.jsx)("img",{alt:"Right arrow",src:ee,style:{height:"10px",marginLeft:"10px",marginRight:"10px"}}),p,Object(G.jsx)("img",{alt:"Minus",src:te,style:{height:"10px",marginLeft:"10px",marginRight:"10px"}}),Object(G.jsx)("strong",{children:"Dispo :\xa0"}),i?A+" - "+o:o," |"," ",Object(G.jsx)("strong",{children:"\xa0 Pris :\xa0"}),c," RDV(s)"]})},r)}var m=e.event.start,h=e.event.end;m>=h&&(h=new Date(m)).setMinutes(h.getMinutes()+5);var g=x()(m),b=x()(h),v=Object(G.jsxs)("div",{children:["Motif: "+a,Object(G.jsx)("br",{}),"Date: "+g.format("DD/MM/YYYY"),Object(G.jsx)("br",{}),"Horaire: "+g.format("HH[h]mm")+" -> "+b.format("HH[h]mm"),Object(G.jsx)("br",{}),e.event.extendedProps.nom_uf&&Object(G.jsxs)("span",{children:[" ","UF: ",e.event.extendedProps.nom_uf," ",Object(G.jsx)("br",{})," "]}),e.event.extendedProps.nom_salle&&Object(G.jsxs)("span",{children:[" ","Salle: ",e.event.extendedProps.nom_salle," ",Object(G.jsx)("br",{})]}),e.event.extendedProps.nbrrdv]});return Object(G.jsx)(U.a,{placement:"bottom",overlay:Object(G.jsx)(H.a,{id:"tooltip-".concat(r),children:v}),children:Object(G.jsxs)("div",{children:[Object(G.jsx)("strong",{children:"Dispo : "})," ",i?A+" - "+o:o," |"," ",Object(G.jsx)("strong",{children:" Pris : "}),c," RDV(s)"]})},r)},r.resourceLabelDidMount=function(e){""===ye||ye===xe?ye=Oe:ye===Oe&&(ye=xe),e.el.style.backgroundColor=ye,document.getElementsByClassName("fc-scrollgrid-sync-table")[3].querySelectorAll("td[data-resource-id='"+e.resource.id+"']")[0].style.backgroundColor=ye},r.resourceLabelContent=function(e){return Object(G.jsxs)("div",{children:[Object(G.jsx)("p",{className:"resource_p",children:e.fieldValue}),Object(G.jsx)("p",{className:"resource_p",children:e.resource.extendedProps.tel})]})},r.getSlotLabel=function(e){if("resourceTimelineWeek"===e.view.type&&1===e.level)return e.date.getHours()===r.startTime?Object(G.jsx)("span",{className:"headerDivision",children:"Matin"}):Object(G.jsx)("span",{className:"headerDivision",children:"Apr\xe8s-midi"});if("resourceTimelineMonth"===e.view.type&&0===e.level)e.text="Semaine "+e.text;else if("resourceTimelineMonth"===e.view.type&&1===e.level)return Object(G.jsx)("span",{className:"headerDivision",children:e.text});return e.text},r.isDateInRange=function(e,t,n){var r=new Date(e),s=new Date(t),a=new Date(n);return r>=s&&r<=a},r.getHeaderToolbar=function(e,t){var n,s,a;if("resourceTimelineWeek"===e||"resourceTimelineDay"===e){var A=t,o=[],c=null===(n=document)||void 0===n||null===(s=n.getElementsByClassName("fc-datagrid-header")[0])||void 0===s||null===(a=s.style)||void 0===a?void 0:a.width;if("resourceTimelineWeek"===e){var i=function(){var e=r.isDateInRange(x()(l,"DD/MM/YYYY").toString(),r.state.currentWeek.start,r.state.currentWeek.end),t={taken:0,min:0,max:0};(e||Object.keys(A).length<30)&&(A[l].forEach((function(e){r.state.datasResource.includes(e.resourceId)&&("number"!==typeof e.min&&(e.min=0),"number"!==typeof e.max&&(e.max=0),t.min+=e.min,t.max+=e.max,t.taken+=e.taken)})),o.push(t))};for(var l in A)i()}else if("resourceTimelineDay"===e){var u=r.startTime+(r.endTime-r.startTime)/2,d=x()(r.state.selectedDayAgenda).format("DD/MM/YYYY"),f=function(){var e={taken:0,mat:0,min:0,max:0,minmat:0,maxmat:0},t={taken:0,apm:0,min:0,max:0,minapm:0,maxapm:0};d===p&&(A[p].forEach((function(n){var s=new Date(n.timeStart);s.setHours(u),s.setMinutes(0),s.setSeconds(0),r.state.datasResource.includes(n.resourceId)&&n.timeEnd>n.timeStart&&("number"!==typeof n.min&&(n.min=0),"number"!==typeof n.max&&(n.max=0),"number"!==typeof n.mat&&(n.mat=0),"number"!==typeof n.apm&&(n.apm=0),"number"!==typeof n.minmat&&(n.minmat=0),"number"!==typeof n.maxmat&&(n.maxmat=0),"number"!==typeof n.minapm&&(n.minapm=0),"number"!==typeof n.maxapm&&(n.maxapm=0),e.minmat+=n.minmat,e.maxmat+=n.maxmat,e.mat+=n.mat,t.minapm+=n.minapm,t.maxapm+=n.maxapm,t.apm+=n.apm)})),o.push(e,t))};for(var p in A)f()}return Object(G.jsx)("div",{style:{marginLeft:c,display:"flex"},children:o.map((function(e,t){var n=e.mat?e.mat:e.apm?e.apm:e.taken,r=e.minmat?e.minmat:e.minapm?e.minapm:e.min,s=e.maxmat?e.maxmat:e.maxapm?e.maxapm:e.max,a=s>0?100*n/(s+n):0;return Object(G.jsxs)("div",{style:{flex:"1",margin:"0 5px"},children:[Object(G.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(G.jsx)("span",{style:{color:"#5D9AD4"},children:n}),Object(G.jsxs)("span",{children:["(",r," - ",s,")"]})]}),Object(G.jsx)(F.a,{style:{height:"10px"},now:a})]},"dayPercent"+t)}))})}},r.eventSourceGetPlannings=function(e,t,n){var s=x()(e.start).toJSON(),a=x()(e.end).toJSON();pe(s,a).then((function(n){n&&n.success&&(r.eventsLoaded=n.feed,r.updateHeaderInfo(n.feed,e.start,e.end),t(n.feed))}))},r.compareEvents=function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!(n in t)||e[n].length!==t[n].length)return!1;return!0},r.updateHeaderInfo=function(e,t,n){for(var s={},a=n.toLocaleDateString(),A=t;A.toLocaleDateString()!==a;){var o=A.toLocaleDateString();s[o]=[],A.setDate(A.getDate()+1)}e.forEach((function(e){if("planning"===e.type){var t=new Date(e.start),n=new Date(e.end),r=t.toLocaleDateString(),a={taken:e.appointmentsTaken,mat:e.rdvmat,apm:e.rdvapm,max:e.rdvmax,min:e.rdvmin,maxmat:e.rdvmaxmat,minmat:e.rdvminmat,maxapm:e.rdvmaxapm,minapm:e.rdvminapm,resourceId:e.resourceId,timeStart:t,timeEnd:n};r in s?s[r].push(a):console.error("Date retrieved not in interval searched !")}})),r.compareEvents(s,r.state.calendarEvents)||r.setState({calendarEvents:s})},r.loadingFunction=function(e){e?(Ce=!0,document.getElementsByClassName("spinner-container-show")[0]&&(document.getElementsByClassName("spinner-container-show")[0].style.display="block")):(Ce=!1,document.getElementsByClassName("spinner-container-show")[0]&&(document.getElementsByClassName("spinner-container-show")[0].style.display="none"))},r.state={locale:R.a,selectedDayAgenda:null,type:!0,selectedDay:new Date,dateWeek:null,selectedPraticienSalle:[],datasLieu:[],datasResourceFixed:[],roomsResourceFixed:[],ressourcesToShow:[],selectedLieu:[],datasUf:[],selectedUf:[],datasMotif:[],selectedMotif:[],calendarEvents:{},headerPercent:void 0,actualView:void 0,datasResource:[],currentDate:"",currentWeek:{}},r}return Object(f.a)(n,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=Object(r.forwardRef)((function(e,t){e.value;var n=e.onClick;return Object(G.jsx)("img",{alt:"Calendar Icon",src:je,className:"icon-calendar",ref:t,onClick:n})})),n=this.state.actualView,s=n&&("resourceTimelineWeek"===n||"resourceTimelineDay"===n);return Object(G.jsxs)(V.a,{fluid:!0,children:[Ce&&Object(G.jsx)(X.a,{style:{paddingBottom:"10px"},children:Object(G.jsx)(ne,{})}),Object(G.jsx)(X.a,{children:Object(G.jsx)(z.a,{className:"padding-img-calendar",id:"icon-calendar",children:Object(G.jsx)(Q.a,Object(i.a)(Object(i.a)({},this.props),{},{showWeekNumbers:!0,selected:this.state.selectedDayAgenda,onChange:this.handleChange,dateFormat:"Pp",locale:O.a,customInput:Object(G.jsx)(t,{})}))})}),Object(G.jsx)(X.a,{id:"percentHeader",style:{display:s?"block":"none",padding:"0 15px",marginBottom:"5px"},children:this.getHeaderToolbar(n,this.state.calendarEvents)}),Object(G.jsx)(X.a,{className:"form-search",children:Object(G.jsx)(_,{ressourcesMotif:this.props.ressourcesMotif,datasResourceFixed:this.state.datasResourceFixed,roomsResourceFixed:this.state.roomsResourceFixed,type:this.state.type,chooseMotif:this.chooseMotif,handleSwitchChange:this.handleSwitchChange,choosePraticienSalle:this.choosePraticienSalle,onFocusTypeHeaderMotif:this.onFocusTypeHeaderMotif,typeHeaderMotifRef:this.typeHeaderMotifRef,datasLieu:this.state.datasLieu,selectedLieu:this.state.selectedLieu,chooseLieu:this.chooseLieu,onFocusTypeHeaderLieu:this.onFocusTypeHeaderLieu,onFocusTypeHeaderPraticienBox:this.onFocusTypeHeaderPraticienBox,typeHeaderLieuRef:this.typeHeaderLieuRef,datasUf:this.state.datasUf,chooseUf:this.chooseUf,onFocusTypeHeaderUf:this.onFocusTypeHeaderUf,typeHeaderUfRef:this.typeHeaderUfRef})}),Object(G.jsx)(X.a,{id:"planningTimeline",children:Object(G.jsx)(z.a,{children:Object(G.jsx)(g.a,{schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",ref:this.calendarComponentRef,locale:this.state.locale,displayEventEnd:!0,slotMinTime:this.startTime+":00",slotMaxTime:this.endTime+":00",plugins:[v.a,b.i],initialView:"resourceTimelineDay",resourceOrder:"title",headerToolbar:{left:"today",center:"prev,title,next",right:"resourceTimelineDay,resourceTimelineWeek,resourceTimelineMonth"},resourceAreaWidth:"15%",resourceAreaHeaderContent:this.state.type?"Praticiens":"Salle",resources:function(){var t=Object(u.a)(Object(l.a)().mark((function t(n,r,s){var a,A,o;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((a=e.state.type?e.state.datasResourceFixed:e.state.roomsResourceFixed).length>0)){t.next=11;break}return t.next=4,e.filterDatas(a);case 4:A=t.sent,o=[],A.forEach((function(e){o.includes(e.id)||o.push(e.id)})),e.state.datasResource.length!==o.length&&e.setState({datasResource:o}),r(A),t.next=12;break;case 11:r([]);case 12:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),resourceLabelContent:this.resourceLabelContent,loading:this.loadingFunction,eventContent:this.eventContent,events:this.eventSourceGetPlannings,slotLabelContent:this.getSlotLabel,stickyHeaderDates:!0,expandRows:!0,contentHeight:"auto",datesSet:function(t){t.view.type!==e.state.actualView?e.setState({actualView:t.view.type,selectedDayAgenda:t.start,currentDate:t.view.activeStart,currentWeek:{start:t.view.activeStart,end:t.view.activeEnd}}):e.setState({selectedDayAgenda:t.start})},views:{month:{slotLabelFormat:[{week:"numeric"},{weekday:"narrow",day:"2-digit"}]},week:{slotDuration:(this.endTime-this.startTime)/2+":00:00",slotLabelFormat:[{weekday:"short",day:"2-digit",month:"2-digit"},{hour:"2-digit"}]},day:{slotDuration:"01:00:00"}}})})})]})}}]),n}(r.Component),Se=Object($.b)((function(e){return{ressourcesTimeline:e.ressourcesTimeline.ressources,eventsOfRessources:e.ressourcesTimeline.eventsOfRessources,ressourcesByType:e.ressourcesTimeline.ressourcesByType,ressourcesMotif:e.ressourcesTimeline.ressourcesMotif,ressourcesLieu:e.ressourcesTimeline.ressourcesLieu,ressourcesUf:e.ressourcesTimeline.ressourcesUf}}),(function(e){return{getResourcesPraticienFunction:function(){return e(fe())},getEventsOfRessourceFunction:function(t,n,r){return e(he(t,n,r))},getRessourceByTypeFunction:function(t){return e(function(e){return function(t,n){le().get("api/api_praticien/ressource_praticien?type=".concat(e)).then((function(e){return e.json()})).then((function(e){var n={ressourcesByType:e.tabinfo};t(ce(n))}))}}(t))},getResourceMotifFunction:function(){return e(ve())},getRessourceLieuFunction:function(){return e(ge())},getRessourceUfFunction:function(){return e(be())},setRessources:function(t){return e(ce(t))}}}))(Ee),Be=(n(281),n(122));x.a.locale("fr"),"fr"===localStorage.getItem("rtc-lang")?Object(B.registerLocale)("fr",O.a):"en"===localStorage.getItem("rtc-lang")?Object(B.registerLocale)("enAU",y.a):"es"===localStorage.getItem("rtc-lang")?Object(B.registerLocale)("es",C.a):"it"===localStorage.getItem("rtc-lang")?Object(B.registerLocale)("it",E.a):"de"===localStorage.getItem("rtc-lang")&&Object(B.registerLocale)("de",S.a);var Qe="#EBEBEB",we="#ffffff",Re="",Ie=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(d.a)(this,n),console.log("V - 9"),(r=t.call(this,e)).calendarComponentRef=s.a.createRef(),r.typeHeaderSalleRef=s.a.createRef(),r.typeHeaderLieuRef=s.a.createRef(),r.typeHeaderUfRef=s.a.createRef(),r.typeHeaderMotifRef=s.a.createRef(),r.loadSalle=function(){var e=[];r.props.getRessourceSalleFunction(),setTimeout((function(){r.props.ressourcesSalle&&r.props.ressourcesSalle.forEach((function(t){e.push(t)})),r.setState({datasSalle:e})}),1e3)},r.loadByMotif=function(){var e=[];r.props.getResourceMotifFunction(),setTimeout((function(){r.props.ressourcesMotif&&r.props.ressourcesMotif.forEach((function(t){e.push(t)})),r.setState({datasMotif:e})}),1e3)},r.loadByLieu=function(){var e=[];r.props.getRessourceLieuFunction(),setTimeout((function(){r.props.ressourcesLieu&&r.props.ressourcesLieu.forEach((function(t){e.push(t)})),r.setState({datasLieu:e})}),1e3)},r.loadByUf=function(){var e=[];r.props.getRessourceUfFunction(),setTimeout((function(){r.props.ressourcesUf&&r.props.ressourcesUf.forEach((function(t){e.push(t)})),r.setState({datasUf:e})}),1e3)},r.componentDidMount=function(){"fr"===localStorage.getItem("rtc-lang")?r.setState({locale:R.a}):"en"===localStorage.getItem("rtc-lang")?r.setState({locale:T.a}):"es"===localStorage.getItem("rtc-lang")?r.setState({locale:M.a}):"it"===localStorage.getItem("rtc-lang")?r.setState({locale:k.a}):"de"===localStorage.getItem("rtc-lang")&&r.setState({locale:P.a}),r.props.getResourcesPraticienFunction(),setTimeout((function(){var e=new Date(r.state.dateWeek),t=x()(e).format("YYYY-MM-DD"),n=x()(t).startOf("isoweek").toJSON(),s=x()(t).endOf("isoweek").add(1,"weeks").toJSON();r.props.getEventsOfRessourceFunction(r.state.ress?r.state.ress.map((function(e){return e.id})):"",n,s)}),1e3),r.loadSalle(),r.loadByMotif(),r.loadByLieu(),r.loadByUf(),r.positionCalendar()},r.positionCalendar=function(){var e=document.getElementById("icon-calendar"),t=document.getElementsByClassName("react-datepicker-wrapper")[0];e.removeChild(t);var n=document.getElementsByClassName("fc-header-toolbar fc-toolbar fc-toolbar-ltr")[0].getElementsByClassName("fc-toolbar-chunk")[0],r=n.getElementsByClassName("fc-today-button fc-button fc-button-primary")[0];n.insertBefore(t,r)},r.handleChange=function(e){r.setState({selectedDayAgenda:e},(function(){r.setState({selectedDay:r.state.selectedDayAgenda},(function(){r.calendarComponentRef.current.getApi().gotoDate(r.state.selectedDay)}))}))},r.datesRender=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,s,a,A,o,c,i,u,d,f;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.customResourceTimelineWeek(t.view.type),r.setState({dateWeek:t.view.activeStart}),null===r.calendarComponentRef.current){e.next=6;break}return e.next=5,r.calendarComponentRef.current.getApi().removeAllEvents();case 5:r.calendarComponentRef.current.getApi().addEventSource(r.props.eventsOfRessources);case 6:"resourceTimelineDay"===t.view.type||"resourceTimelineWeek"===t.view.type?(n=new Date(t.view.activeStart),s=x()(n),a=s.format("YYYY-MM-DD"),A=x()(a).startOf("isoweek").toJSON(),o=x()(a).endOf("isoweek").add(1,"weeks").toJSON(),r.props.getEventsOfRessourceFunction(r.state.ress?r.state.ress.map((function(e){return e.id})):"",A,o)):"resourceTimelineMonth"===t.view.type&&(c=new Date(t.view.activeStart),i=x()(c),u=i.format("YYYY-MM-DD"),d=x()(u).startOf("isoweek").toJSON(),f=x()(u).endOf("isoweek").add(1,"months").toJSON(),r.props.getEventsOfRessourceFunction(r.state.ress?r.state.ress.map((function(e){return e.id})):"",d,f));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.customResourceTimelineWeek=function(e){var t=document.getElementsByClassName("fc-datagrid-header")[0].getElementsByTagName("th")[0];t.removeAttribute("style");var n=Object.values(document.getElementsByClassName("fc-timeline-header-row")[0].getElementsByTagName("th"));n.forEach((function(e){e.removeAttribute("style")}));var r=Object.values(document.getElementsByClassName("fc-timeline-slot-lane")),s=document.getElementById("matinSoirTr"),a=document.getElementById("trHour");if(null!==s&&s.parentNode.removeChild(s),null!==a&&a.setAttribute("style","display: contents"),"resourceTimelineWeek"===e){var A=7,o=!0,c=document.getElementsByClassName("fc-resourceTimelineWeek-view")[0].getElementsByTagName("thead")[0].getElementsByTagName("td")[2].getElementsByTagName("tbody")[0],i=c.getElementsByTagName("tr")[1];i.setAttribute("id","trHour"),i.setAttribute("style","display: none");var l=document.createElement("tr");l.setAttribute("id","matinSoirTr"),l.setAttribute("class","fc-timeline-header-row"),c.appendChild(l);for(var u=1;u<=84;u+=6){var d=document.createElement("td");A=5===A?7:5,d.setAttribute("colspan",A),d.setAttribute("style","text-align: center; border: 1px solid rgba(0, 0, 0, 0.56) !important");var f=void 0;o?(f=document.createTextNode("Matin"),o=!1):(f=document.createTextNode("Apr\xe8s midi"),o=!0),d.appendChild(f),document.getElementById("matinSoirTr").appendChild(d)}t.setAttribute("style","padding: 10px"),n.forEach((function(e){e.setAttribute("style","padding: 10px")}));var p=!0;r.forEach((function(e,t){t%6===0&&0!==t?p?(r[t-1].setAttribute("style","border-left: 2px solid #464646"),r[t].setAttribute("style","border: none"),p=!1):(e.setAttribute("style","border: 2px solid #464646"),p=!0):e.setAttribute("style","border: none")}))}else r.forEach((function(e){e.setAttribute("style","border: 2px solid #464646")}))},r.chooseSalle=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({selectedSalle:t});case 2:r.filterDatas();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.chooseMotif=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({selectedMotif:t});case 2:r.filterDatas();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.chooseLieu=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.length>0?r.filterUFByLieu(t[0].id_lieu):r.filterUFByLieu(null),e.next=3,r.setState({selectedLieu:t});case 3:r.filterDatas();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.chooseUf=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({selectedUf:t});case 2:r.filterDatas();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.filterUFByLieu=Object(u.a)(Object(l.a)().mark((function e(){var t,n,s=arguments;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],null===(t=s.length>0&&void 0!==s[0]?s[0]:null)?r.loadByUf():(r.props.getRessourceUfFunction(),setTimeout((function(){r.props.ressourcesUf&&r.props.ressourcesUf.forEach((function(e){e.id_lieu===t&&n.push(e)})),r.setState({datasUf:n})}),1e3));case 3:case"end":return e.stop()}}),e)}))),r.filterDatas=Object(u.a)(Object(l.a)().mark((function e(){var t,n,s,a,A,o,c,i,u,d;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.state.selectedSalle.length>0)){e.next=8;break}return t=[],e.next=4,r.state.selectedSalle.forEach((function(e){t.push(r.props.ressourcesSalle.filter((function(t){return Object.values(t).some((function(t){return"string"===typeof t&&t.includes(e.id)}))}))[0])}));case 4:return e.next=6,r.setState({datasResource:t});case 6:e.next=10;break;case 8:return e.next=10,r.setState({datasResource:null});case 10:if(!(r.state.selectedMotif.length>0)){e.next=27;break}return n=[],s=[],e.next=15,r.state.selectedMotif.forEach((function(e){r.props.eventsOfRessources.forEach((function(t){t.listemotif.forEach((function(n){e.id_motif_rdv===n.id_motif_rdv&&s.push(t)}))}))}));case 15:if(null!==r.state.datasResource){e.next=22;break}return e.next=18,s.forEach((function(e){n.push(r.props.ressourcesSalle.filter((function(t){return t.id===e.resourceId}))[0])}));case 18:return e.next=20,r.setState({datasResource:n});case 20:e.next=27;break;case 22:return a=[],e.next=25,s.forEach((function(e){a.push(r.props.ressourcesSalle.filter((function(t){return t.id===e.resourceId}))[0])}));case 25:a=Array.from(new Set(a.map((function(e){return e.id})))).map((function(e){return a.find((function(t){return t.id===e}))})),r.setState({datasResource:r.state.datasResource.filter((function(e){return a.includes(e)}))});case 27:if(!(r.state.selectedLieu.length>0)){e.next=45;break}return A=[],e.next=31,r.props.eventsOfRessources.filter((function(e){return e.idlieu===r.state.selectedLieu[0].id_lieu}));case 31:if(o=e.sent,null!==r.state.datasResource){e.next=40;break}return console.log(o),e.next=36,o.forEach((function(e){A.push(r.props.ressourcesSalle.filter((function(t){return t.id===e.resourceId}))[0])}));case 36:return e.next=38,r.setState({datasResource:A});case 38:e.next=45;break;case 40:return c=[],e.next=43,o.forEach((function(e){c.push(r.props.ressourcesSalle.filter((function(t){return t.id===e.resourceId}))[0])}));case 43:c=Array.from(new Set(c.map((function(e){return e.id})))).map((function(e){return c.find((function(t){return t.id===e}))})),r.setState({datasResource:r.state.datasResource.filter((function(e){return c.includes(e)}))});case 45:if(!(r.state.selectedUf.length>0)){e.next=62;break}return i=[],e.next=49,r.props.eventsOfRessources.filter((function(e){return e.uf===r.state.selectedUf[0].id_uf}));case 49:if(u=e.sent,null!==r.state.datasResource){e.next=57;break}return e.next=53,u.forEach((function(e){i.push(r.props.ressourcesSalle.filter((function(t){return t.id===e.resourceId}))[0])}));case 53:return e.next=55,r.setState({datasResource:i});case 55:e.next=62;break;case 57:return d=[],e.next=60,u.forEach((function(e){d.push(r.props.ressourcesSalle.filter((function(t){return t.id===e.resourceId}))[0])}));case 60:d=Array.from(new Set(d.map((function(e){return e.id})))).map((function(e){return d.find((function(t){return t.id===e}))})),r.setState({datasResource:r.state.datasResource.filter((function(e){return d.includes(e)}))});case 62:case"end":return e.stop()}}),e)}))),r.eventDidMount=function(e){if("conge"===e.event.extendedProps.type){var t=e.event.start,n=e.event.end;t>=n&&(n=new Date(t)).setMinutes(n.getMinutes()+5);var r=t.getDate()>=0&&t.getDate()<10?"0"+t.getDate():""+t.getDate(),s=t.getMonth()>=0&&t.getMonth()<10?"0"+(t.getMonth()+1):""+(t.getMonth()+1),a=t.getFullYear(),A=n.getDate()>=0&&n.getDate()<10?"0"+n.getDate():""+n.getDate(),o=n.getMonth()>=0&&n.getMonth()<10?"0"+(n.getMonth()+1):""+(n.getMonth()+1),c=n.getFullYear(),i=e.event.title+" <br />";i=(i=i+"Date de d\xe9but: "+r+"/"+s+"/"+a+"<br />")+"Date de fin: "+A+"/"+o+"/"+c+"<br />",new Be.Tooltip(e.el,{title:i,placement:"top",trigger:"hover",container:"body",html:!0})}else{var l="";if(e.event.extendedProps.listemotif.forEach((function(e){l=l+" "+e.abreviation_motif_rdv})),"resourceTimelineDay"===e.view.type){var u="Motif: "+l+" <br />";u=(u=u+"UF: "+e.event.extendedProps.nom_uf+"<br />")+"Salle: "+e.event.extendedProps.nom_salle+"<br />",new Be.Tooltip(e.el,{title:u,placement:"top",trigger:"hover",container:"body",html:!0})}else{var d=e.event.start,f=e.event.end;d>=f&&(f=new Date(d)).setMinutes(f.getMinutes()+5);var p=d.getDate()>=0&&d.getDate()<10?"0"+d.getDate():""+d.getDate(),m=d.getMonth()>=0&&d.getMonth()<10?"0"+(d.getMonth()+1):""+(d.getMonth()+1),h=d.getFullYear(),g=d.getHours()>=0&&d.getHours()<10?"0"+d.getHours():""+d.getHours(),b=f.getHours()>=0&&f.getHours()<10?"0"+f.getHours():""+f.getHours(),v=d.getMinutes()>=0&&d.getMinutes()<10?"0"+d.getMinutes():""+d.getMinutes(),j=f.getMinutes()>=0&&f.getMinutes()<10?"0"+f.getMinutes():""+f.getMinutes(),x="Motif: "+l+" <br />";x=(x=(x=(x=x+"Date: "+p+"/"+m+"/"+h+"<br />")+"Horaire: "+g+"h"+v+" -> "+b+"h"+j+"<br />")+"UF: "+e.event.extendedProps.nom_uf+"<br />")+"Salle: "+e.event.extendedProps.nom_salle+"<br />",new Be.Tooltip(e.el,{title:x,placement:"top",trigger:"hover",container:"body",html:!0})}}},r.eventContent=function(e){if("conge"===e.event.extendedProps.type)return Object(G.jsx)("div",{className:"conge",children:"CONG\xc9"});if("resourceTimelineDay"===e.view.type){var t=e.event.start,n=e.event.end;t>=n&&(n=new Date(t)).setMinutes(n.getMinutes()+5);var r=t.getHours()>=0&&t.getHours()<10?"0"+t.getHours():""+t.getHours(),s=n.getHours()>=0&&n.getHours()<10?"0"+n.getHours():""+n.getHours(),a=t.getMinutes()>=0&&t.getMinutes()<10?"0"+t.getMinutes():""+t.getMinutes(),A=n.getMinutes()>=0&&n.getMinutes()<10?"0"+n.getMinutes():""+n.getMinutes();return Object(G.jsxs)("div",{className:"content-event-align-vert",children:[r+"h"+a,Object(G.jsx)("img",{alt:"Right arrow",src:ee,style:{height:"10px",marginLeft:"10px",marginRight:"10px"}}),s+"h"+A,Object(G.jsx)("img",{alt:"Minus",src:te,style:{height:"10px",marginLeft:"10px",marginRight:"10px"}}),e.event.extendedProps.nbrrdv," RDV(s)"]})}return Object(G.jsxs)("div",{children:[e.event.extendedProps.nbrrdv," RDV(s)"]})},r.resourceLabelDidMount=function(e){""===Re||Re===Qe?Re=we:Re===we&&(Re=Qe),e.el.style.backgroundColor=Re,document.getElementsByClassName("fc-scrollgrid-sync-table")[3].querySelectorAll("td[data-resource-id='"+e.resource.id+"']")[0].style.backgroundColor=Re},r.resourceLabelContent=function(e){return Object(G.jsxs)("div",{children:[Object(G.jsx)("p",{className:"resource_p",children:e.fieldValue}),Object(G.jsx)("p",{className:"resource_p",children:e.resource.extendedProps.tel})]})},r.state={locale:R.a,selectedDayAgenda:null,selectedDay:new Date,dateWeek:null,datasResource:null,datasSalle:[],selectedSalle:"",datasLieu:[],selectedLieu:"",datasUf:[],selectedUf:"",datasMotif:[],selectedMotif:""},r.handleChange=r.handleChange.bind(Object(p.a)(r)),r}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=Object(r.forwardRef)((function(e,t){e.value;var n=e.onClick;return Object(G.jsx)("img",{alt:"calendar icon",src:je,className:"icon-calendar",ref:t,onClick:n})}));return Object(G.jsxs)(V.a,{fluid:!0,children:[Object(G.jsx)(X.a,{children:Object(G.jsx)(z.a,{className:"padding-img-calendar",id:"icon-calendar",children:Object(G.jsx)(Q.a,Object(i.a)(Object(i.a)({},this.props),{},{showWeekNumbers:!0,selected:this.state.selectedDayAgenda,onChange:this.handleChange,dateFormat:"Pp",locale:O.a,customInput:Object(G.jsx)(t,{})}))})}),Object(G.jsxs)(X.a,{className:"form-search",children:[Object(G.jsxs)(z.a,{sm:3,className:"zone",children:[Object(G.jsx)("label",{className:"label-form-search",children:"Salle :"}),Object(G.jsx)(Y.a,{multiple:!0,ref:this.typeHeaderSalleRef,id:"typeheaderSalle",options:this.state.datasSalle,placeholder:"Rechercher...",emptyLabel:"Rechercher ...",labelKey:function(e){return"".concat(e.title)},size:"small",onChange:function(t){return e.chooseSalle(t)},onFocus:this.onFocusTypeHeaderSalle})]}),Object(G.jsxs)(z.a,{sm:3,className:"zone",children:[Object(G.jsx)("label",{className:"label-form-search",children:"Motif :"}),Object(G.jsx)(Y.a,{multiple:!0,ref:this.typeHeaderMotifRef,id:"typeheadMotif",options:this.state.datasMotif,placeholder:"Rechercher...",emptyLabel:"Rechercher ...",className:"typeheadPraticiensBox",labelKey:function(e){return"".concat(e.libelle_motif_rdv)},size:"small",onChange:function(t){return e.chooseMotif(t)},onFocus:this.onFocusTypeHeaderMotif})]}),Object(G.jsxs)(z.a,{sm:3,className:"zone",children:[Object(G.jsx)("label",{className:"label-form-search",children:"Lieux :"}),Object(G.jsx)(Y.a,{ref:this.typeHeaderLieuRef,id:"typeheadLieu",options:this.state.datasLieu,placeholder:"Rechercher...",emptyLabel:"Rechercher ...",className:"typeheadPraticiensBox",labelKey:function(e){return"".concat(e.libelle_lieu)},size:"small",selected:this.state.selectedLieu,onChange:function(t){return e.chooseLieu(t)},onFocus:this.onFocusTypeHeaderLieu})]}),Object(G.jsxs)(z.a,{sm:3,className:"zone",children:[Object(G.jsx)("label",{className:"label-form-search",children:"UF :"}),Object(G.jsx)(Y.a,{ref:this.typeHeaderUfRef,id:"typeheadUf",options:this.state.datasUf,placeholder:"Rechercher...",emptyLabel:"Rechercher ...",className:"typeheadPraticiensBox",labelKey:function(e){return"".concat(e.libelle_lieu)},size:"small",onChange:function(t){return e.chooseUf(t)},onFocus:this.onFocusTypeHeaderUf})]})]}),Object(G.jsx)(X.a,{id:"planningTimeline",children:Object(G.jsx)(z.a,{children:Object(G.jsx)(g.a,{schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",ref:this.calendarComponentRef,locale:this.state.locale,datesSet:this.datesRender,displayEventEnd:!0,slotMinTime:"08:00",slotMaxTime:"20:00",slotDuration:"01:00:00",plugins:[v.a,b.i],initialView:"resourceTimelineDay",resourceOrder:"title",headerToolbar:{left:"today",center:"prev,title,next",right:"resourceTimelineDay,resourceTimelineWeek"},resourceAreaWidth:"15%",resourceAreaHeaderContent:"Salle",resources:this.props.ressourcesSalle?null===this.state.datasResource?this.props.ressourcesSalle:this.state.datasResource:[],resourceLabelContent:this.resourceLabelContent,events:this.props.eventsOfRessources,eventDidMount:this.eventDidMount,eventContent:this.eventContent,resourceLabelDidMount:this.resourceLabelDidMount})})})]})}}]),n}(r.Component),Te=Object($.b)((function(e){return{ressourcesSalle:e.ressourcesTimeline.ressourcesSalle,ressourcesMotif:e.ressourcesTimeline.ressourcesMotif,ressourcesLieu:e.ressourcesTimeline.ressourcesLieu,ressourcesUf:e.ressourcesTimeline.ressourcesUf,ressourcesTimeline:e.ressourcesTimeline.ressources,eventsOfRessources:e.ressourcesTimeline.eventsOfRessources,ressourcesPlanningOfSalle:e.ressourcesSalle.ressourcesPlanningOfSalle,ressourcesOfSalle:e.ressourcesSalle.ressourcesOfSalle}}),(function(e){return{getRessourceSalleFunction:function(){return e((function(e,t){le().get("api/api_salle/ressource_salle").then((function(e){return e.json()})).then((function(t){if("ok"===t.result){console.log(t.tabinfo);var n={ressourcesOfSalle:t.tabinfo};e(ie(n))}}))}))},getResourceMotifFunction:function(){return e(ve())},getRessourceLieuFunction:function(){return e(ge())},getRessourceUfFunction:function(){return e(be())},getResourcesPraticienFunction:function(){return e(fe())},getEventsOfRessourceFunction:function(t,n,r){return e(he(t,n,r))},getRessourcePlanningOfSalleFunction:function(t,n,r){return e(function(e,t,n){return function(r,s){le().get("api/api_salle/timeline_salle?id_salle=".concat(e,"start=").concat(t,"&end=").concat(n)).then((function(e){return e.json()})).then((function(e){if("ok"===e.result){console.log(e.tabinfo);var t={ressourcesPlanningOfSalle:e.tabinfo};r(ie(t))}}))}}(t,n,r))}}}))(Ie);function De(){return Object(G.jsx)(o.a,{children:Object(G.jsxs)(c.c,{children:[Object(G.jsx)(c.a,{exact:!0,path:"/planningTimeline",component:Se}),Object(G.jsx)(c.a,{exact:!0,path:"/timeline-salle",component:Te})]})})}var Me=function(){return Object(G.jsx)(De,{})},Le=(n(285),n(286),n(86)),ke=n(194),Ne=Object(Le.b)({ressourcesTimeline:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===Ae?Object(i.a)(Object(i.a)({},e),t.ressourcesTimeline):e},ressourcesSalle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===oe?Object(i.a)(Object(i.a)({},e),t.ressourcesSalle):e}}),Pe=Object(Le.a)(ke.a)(Le.c)((function(e,t){return"RESET_APP"===t.type&&(e={locale:e.locale}),Ne(e,t)}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ue=n(195);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));A.a.render(Object(G.jsx)(o.a,{children:Object(G.jsx)($.a,{store:Pe,children:Object(G.jsx)(Ue.Translator,{children:Object(G.jsx)(Me,{})})})}),document.getElementById("root")),console.log("derni\xe8re mise \xe0 jour: Tue Mar 14 2023 15:32:31 GMT+0100"),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[337,1,2]]]);
//# sourceMappingURL=main.c04d6cf3.chunk.js.map